<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="./public/javascript/global_variables.js" charset="utf-8"></script>
    <script src="./public/javascript/handle_server_response.js"></script>
    <script src="./public/javascript/handle_server_connection.js"></script>

    <link rel="stylesheet" href="./public/stylesheet/index.css">
    <link rel="stylesheet" href="./public/stylesheet/icons/google-icon.css">

</head>

<body onload="connect()">
<body onresize="resize()" onload="connect()">
    <script>
        if(connection === true) {
            send(state, mainmenu)
        }
    </script>
    <div class="header">
        <a href="#" class="lefttext a" id="connection"><i class="material-icons">wifi_off</i></a>
        <a href="#" class="lefttext a" id="ping" style="padding: 12px;"></a>
        <a href="#" class="righttext a"><i class="material-icons" title="Settings">settings</i></a>
        <a href="#" class="righttext a"><i class="material-icons" title="Profile">person</i></a>
    </div>
    <div class="container" id="container">
        <script>
            //send('setname', 'The_Admin')
            //send('join', 'x')
        </script>
        <script src="./public/phaser.js"></script>
        <script>
            var config = {
                type: Phaser.AUTO,
                width: 1100,
                height: 880,
                parent: 'container',
                physics: {
                    default: 'arcade',
                    arcade: {
                        gravity: { y: 200 }
                    }
                },
                scene: {
                    preload: preload,
                    create: create
                }
            };

            var game = new Phaser.Game(config);

            function preload() {
                this.load.setBaseURL('http://labs.phaser.io');
                this.load.image('logo', 'assets/sprites/phaser3-logo.png');
                this.load.image('red', 'assets/particles/red.png');
            }

            function create() {
            }

            function create() {
                var particles = this.add.particles('red');

                var emitter = particles.createEmitter({
                    speed: 100,
                    scale: { start: 1, end: 0 },
                    blendMode: 'ADD'
                });

                var logo = this.physics.add.image(400, 100, 'logo');

                logo.setVelocity(100, 200);
                logo.setBounce(1, 1);
                logo.setCollideWorldBounds(true);

                emitter.startFollow(logo);
            }
        </script>
    </div>

    <div class="footer">
        <a href="lobby.html" class="footertxt a">Zur Lobby</a>
    </div>
</body>

</html>